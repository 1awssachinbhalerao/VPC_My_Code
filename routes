resource "aws_route" "non_routable_routes" {
  for_each = {
    for index, rt in aws_route_table.non_routable_tables : index => rt.id
  }

  route_table_id         = each.value
  destination_cidr_block = var.destination_apigee_cidr

  dynamic "route" {
    for_each = [
      var.destination_apigee_cidr,
      var.destination_apigee_cidr1,
      var.destination_dp_cidr,
      var.destination_dp_cidr1,
      module.vpc.vpc_cidr_block
    ]
    content {
      destination_cidr_block = route.value
    }
  }
}
